<template name="mainPage">
  <div id="mainPage" class="padded page" style="{{getOpacity}}">


    <hr>
    <h2 class="fullwidth centered">ActiveRecord</h2>
    <p>
      An ActiveRecord reference implementation using <a href="http://www.meteor.com">Meteor</a>, <a href="https://atmospherejs.com/aldeed/autoform">AutoForms</a>, and aiming for a Day Made of Glass user interface.  Part of the Glass UI subproject of the <a href="http://clinincal.meteor.com">Clinical Meteor Track</a>.
    </p>
    <button id="listButton" class="fullwidth btn-main" style="{{btnPrimary}}">See the Demo</button>
    <br><br>
    <p>
      The ActiveRecord Pattern has many different interpretations, based on the underlying database and language.  There are some commonalities between implementations, however, such as supporting basic CRUD(L) functions, declarative data bindings, and defining the pattern via a schema of some sort.
    </p>
    <p>
      Given Mongo's document-oriented database, the isomorphic nature of Meteor, presence of Minimongo, and packages such as <a href="https://atmospherejs.com/aldeed/autoform">aldeed:autoform</a>, <a href="https://atmospherejs.com/aldeed/collection2">aldeed:collection2</a>, and <a href="https://atmospherejs.com/aldeed/simple-schema">aldeed:simple-schema</a>, we've opted for a client-side ActiveRecord implementation that goes all the way to the UI.
    </p>
    <p>
      This is a fairly significant architectural decision, which commits users of this pattern to a Blaze/Famous/React stack, and a Card UI.  If you're not seeking to implement a Card UI, or have requirements to use Angular, this may not be the package you're looking for.
    </p>


    <hr>
    <h4 class="fullwidth centered">Installation</h4>
    <p>
      The ActiveRecord package is a meta-package comprised of a number of sub-packages.  The easiest way to install it is to:
    </p>
    {{#prism language="bash"}}
      meteor add glass:active-record
    {{/prism}}
    <hr>
    <h4 class="fullwidth centered">Configure The Schema</h4>
    <p>
      Once installed, you'll need to configure a schema.  Add the following to a file in the <code>/lib</code> directory, and it should generate the rest of the ActiveRecord pattern.
    </p>
    {{#prism language="javascript"}}
      Posts = new Meteor.Collection('posts');

      PostsSchema = new SimpleSchema({
        title: {
          type: String,
          label: "Title",
          max: 200
        },
        url: {
          type: String,
          label: "Web Address - http://www.widget.com"
        },
        imageUrl: {
          type: String,
          label: "Image Url - http://www.widget.com/cog.jpg"
        },
        description: {
          type: String,
          label: "Description"
        }
      });
      Posts.attachSchema(PostsSchema);
    {{/prism}}

    <hr>
    <h4 class="fullwidth centered">Basic ActiveRecord Pattern</h4>
    <p>
      Defining page routing for CRUDL operations can be tricky, depending on whether the application calls for individualized routes for each database operation, or combined functionality within a single page.  Traditional web-architecture tends to have a separate page for creating a new record, versus updating it, versus viewing it. By default, the ActiveRecord pattern follows this convention, and sets up routes for <code>/insert</code>, <code>/update</code>, and <code>/find</code>, rather than putting the functionality on the same page.
    </p>
    <img src="ActiveRecord.png" class="fullwidth" alt="" />

    <hr>
    <h4 class="fullwidth centered">Advanced Installation</h4>
    <p>
      As mentioned above, ActiveRecord is a meta-package, and comprised of many sub-packages.  If you want to create custom cards, and make modifications, it's recommended to install the individuals packages.
    </p>
    {{#prism language="bash"}}
      meteor add glass:ui-styling
      meteor add glass:active-record-core
      meteor add glass:active-record-new
      meteor add glass:active-record-edit
      meteor add glass:active-record-preview
      meteor add glass:active-record-list
      meteor add glass:active-record-table
      meteor add glass:active-record-imagegrid
      meteor add glass:active-record-header
      meteor add glass:active-record-footer
    {{/prism}}




    <hr>
    <h4 class="fullwidth centered">Active Form</h4>
    <p>
      As mentioned above, there are multiple interpretations to how a CRUDL pattern should be rendered, how page routing should be set up, and so forth.  Some people would rather have the <code>view/insert/update</code> functionality all on the same page.  That's why we've also been working on an ActiveForm pattern, which does much of the same functionality, but consolidates the <code>insert</code>, <code>update</code>, and <code>view</code> pages into a single page.
    </p>

    <img src="ActiveRecord - DoublePage.png" class="fullwidth" alt="" />

    <hr>
    <h4 class="fullwidth centered">Install ActiveForm</h4>
    <p>
      Install the ActiveForm pattern with the folowing packges:
    </p>
    {{#prism language="bash"}}
      # turn-key installation
      meteor add glass:active-form

      # simple-schema based pattern
      meteor add glass:ui-styling
      meteor add glass:active-record-core
      meteor add glass:active-form-upsert
      meteor add glass:active-table
    {{/prism}}

    <hr>
    <h4 class="fullwidth centered">Contributing/Developing</h4>
    <p>
      Download the reference app, fork the repository, and tinker with the underlying packages.
    </p>
    {{#prism language="bash"}}
      git clone http://github.com/awatson1978/active-record-demo
      cd active-record-demo
      meteor
    {{/prism}}

    <hr>
    <h4>Design Inspiration</h4>
    <p>
      The general design aesthetic of the Glass UI and this ActiveRecord pattern is inspired by the Corning Day Made of Glass video.  We're not implementing the UI exactly as shown in the video; but we find it a useful tool in create a shared vision regarding Card UI and establishing a design language around haptic interfaces, complex animations, near-field communications between devices, and other advanced design concepts.
    </p>
    <iframe width="100%" height="315" src="//www.youtube.com/embed/jZkHpNnXLB0" frameborder="0" allowfullscreen></iframe>


    <hr>
    <h4>Licensing</h4>
    <p>
      Code is MIT.  Use as you will.
    </p>
    <p>
      Corning Day Made of Glass video is copyright Corning; all rights reserved.
    </p>


  </div>
</template>
